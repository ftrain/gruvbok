# GRUVBOK Hardware Configuration
# Pin mappings for Teensy 4.1

[buttons]
# 16 momentary buttons (INPUT_PULLUP)
# Button index → Digital pin
button_1  = 23
button_2  = 22
button_3  = 21
button_4  = 20
button_5  = 19
button_6  = 18
button_7  = 17
button_8  = 16
button_9  = 9
button_10 = 8
button_11 = 7
button_12 = 6
button_13 = 5
button_14 = 4
button_15 = 3
button_16 = 2

[pots]
# 4 potentiometers for navigation (analog pins)
# Pot index → Function → Analog pin
pot_0 = 24  # Tempo (20-800 BPM)
pot_1 = 25  # Mode selection (0-14)
pot_2 = 26  # Pattern selection (0-31)
pot_3 = 27  # Track selection (0-7)

[sliders]
# 4 sliders for drum programming (analog pins)
# Slider index → Function → Analog pin
slider_0 = 41  # Velocity (0-127)
slider_1 = 40  # Flam amount (0-127, 0=no flam, 127=50ms delay)
slider_2 = 39  # Note length (0-127, 10ms-2000ms)
slider_3 = 38  # Pan (0-127, stereo position)

[led]
# Status LED (PWM capable)
led = 13  # Onboard LED

[midi]
# MIDI configuration
# Debug CCs sent for monitoring
debug_channel = 16        # Channel for navigation debug CCs
drum_channel = 2          # Channel for drum machine (Mode 1)

# Debug CC mappings
pot_mode_cc = 1          # CC1 = Mode (0-14)
pot_pattern_cc = 2       # CC2 = Pattern (0-31)
pot_track_cc = 3         # CC3 = Track (0-7)

slider_velocity_cc = 20  # CC20 = Velocity
slider_flam_cc = 21      # CC21 = Flam
slider_length_cc = 22    # CC22 = Length
slider_pan_cc = 23       # CC23 = Pan

[timing]
# Debouncing and update rates
button_debounce_ms = 20  # Button debounce time
pot_threshold = 2        # Pot change threshold (0-127 scale)
slider_threshold = 2     # Slider change threshold (0-127 scale)
slider_debug_rate_ms = 50  # How often to send slider debug CCs

[modes]
# Mode → MIDI channel mapping
mode_0_channel = 1   # Pattern Sequencer
mode_1_channel = 2   # Drum Machine
mode_2_channel = 3   # (Future)
mode_3_channel = 4   # (Future)
mode_4_channel = 5   # (Future)
mode_5_channel = 6   # (Future)
mode_6_channel = 7   # (Future)
mode_7_channel = 8   # (Future)
mode_8_channel = 9   # (Future)
mode_9_channel = 10  # (Future)
mode_10_channel = 11 # (Future)
mode_11_channel = 12 # (Future)
mode_12_channel = 13 # (Future)
mode_13_channel = 14 # (Future)
mode_14_channel = 15 # (Future)

[drum_notes]
# Mode 1 (Drum Machine) - GM Drum mapping
# Track → MIDI note
track_0 = 36  # Kick (C1)
track_1 = 38  # Snare (D1)
track_2 = 42  # Closed Hi-Hat (F#1)
track_3 = 46  # Open Hi-Hat (A#1)
track_4 = 43  # Low Tom (G1)
track_5 = 47  # Mid Tom (B1)
track_6 = 49  # Crash (C#2)
track_7 = 51  # Ride (D#2)
